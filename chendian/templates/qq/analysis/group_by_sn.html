{% extends "base.html" %}

{% block title %}打卡次数 - {{ super }} {% endblock title %}

{% block content %}
  <h1>打卡记录</h1>


  <div class="row">
  <form>
    <div class="small-12 columns">
      <div class="row">
        <div class="small-3 columns">
          <label class="inline">选择
          <select name="filter_by" class="inline">
            <option value="sn"
            {% if request.GET.filter_by == "sn" %} selected {% endif %}
            >编号</option>
            <option value="qq"
            {% if request.GET.filter_by == "qq" %} selected {% endif %}
            >QQ</option>
            <option value="nick_name"
            {% if request.GET.filter_by == "nick_name" %} selected {% endif %}
            >昵称</option>
          </select>
          </label>
      </div>
        <div class="small-3 columns">
          <label class="inline">值
            <input type="number" name="filter_value" placeholder="value"
            value="{{ request.GET.filter_value }}"
            >
          </label>
        </div>
        <div class="small-3 columns">
          <label class="inline">开始时间
            <input type="text" name="datetime_start" id="datetime_start"
            value="{{ datetime_start|date:"Y-m-d H:i" }}"
            >
          </label>
        </div>
          <div class="small-3 columns">
            <label class="inline">结束时间
              <input type="text" name="datetime_end" id="datetime_end"
                value="{{ datetime_end|date:"Y-m-d H:i" }}"
              >
            </label>
        </div>
      </div>
    <div class="row">
        <div class="small-3 columns">
          <input type="submit" class="button tiny" value="过滤">
          <a class="button tiny secondary" href="{{ request.path }}">取消</a>
      </div>
    </div>
    </div>
    </div>
  </form>
  </div>


{% include "page.html" %}


<div class="row">
<div class="large-12 columns">
<table class="full-width">
  <thead>
    <tr>
      <th style="width: 30%">编号</th>
      <th style="width: 40%">昵称</th>
      <th style="width: 30%">打卡次数</th>
    </tr>
  </thead>
  <tbody>
    {% for record in page_obj.object_list %}
    <tr>
      <td>{{ record.sn|default:"" }}</td>
      <td>{{ record.nick_name|default:"" }}</td>
      <td><a href="javascript:void(0);" data-reveal-id="myModal">{{ record.count }}</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
</div>


<div id="myModal" class="reveal-modal" data-reveal>
  <h2>Awesome. I have it.</h2>
  <p class="lead">Your couch.  It is mine.</p>
  <p>I'm a cool paragraph that lives inside of an even cooler modal. Wins!</p>
  <a class="close-reveal-modal">&#215;</a>
</div>


{% include "page.html" %}


{% endblock content %}
